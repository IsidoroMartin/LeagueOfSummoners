<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:with="lang=${#locale.language}" th:lang="${lang}">
<head th:replace="fragments/head :: head">
</head>
<body id="bootstrap-overrides" onload="getMatchList(false)">
<div th:replace="fragments/menu :: menu"></div>
<div class="container content">
    <div class="row" id="banner">
        <div id="page-name-banner" class="col-xs-12">
            <h2 class="banner-msg" th:utext="#{profile.profilename}"></h2>
        </div>
    </div>
</div>

<main class="container content">
    <div class="row">
        <aside id="user-profile" class="col-md-2">
            <div id="profile">
                <div class="img-perfil">
                    <img th:attr="src=@{${session.userlogged.avatar}}"/>
                </div>
                <div class="summoner-profile">
                    <strong><p th:utext="${session.userlogged.username}"></p></strong>
                </div>

                <div class="img-perfil">
                    <img th:attr="src=@{${summoner_avatar}}" width="120px" height="120px"/>
                </div>
                <div class="summoner-profile">
                    <strong><p th:utext="${session.userlogged.summonerName}"></p></strong>
                </div>
            </div>
        </aside>
        <div id="profile-body" class="col-xs-10">
            <div id="profile-header">
                <h3 th:utext="#{profile.youraccount}"></h3>
            </div>
            <div id="profile-main">
                <table class="table">
                    <tr>
                        <th th:utext="#{profile.summonername}"></th>
                        <th th:utext="#{profile.summoner.level}"></th>
                        <th>Division</th>
                        <th th:utext="#{profile.playingmap}"></th>
                        <th th:utext="#{profile.permission.level}">User level</th>
                    </tr>
                    <tr>
                        <td th:utext="${session.userlogged.summonerName}"></td>
                        <td th:utext="${summ_level}"></td>
                        <td th:utext="${summ_tier}"></td>
                        <td th:utext="${summ_playing}"></td>
                        <td th:utext="${session.userlogged.permissionLevel}"></td>
                    </tr>
                </table>
            </div>
            <div id="guides-profile">
                <h3 th:utext="#{profile.createdguides}"></h3>
                <!-- Aqui ira un if (Si el usuario tiene guias, saldran las guias, si no pues saldra lo sentimos no tienes guias -->
                <p>Desafortunadamente no tienes guias creadas, pulsa <a href="#">aquí</a> para crear tú guia </p>
            </div>

            <div id="guides-last10match">
                <h3>
                    <th:block th:text="#{profile.last10matches}"></th:block>
                </h3>
                <i class="fa fa-refresh fa-1" id="refresh-icon" aria-hidden="true" onclick="getMatchList(true)"></i>
                <table class="table" id="table-matches">
                    <thead>
                    <tr>
                        <th>Resultado</th>
                        <th>Duración</th>
                        <th>Campeón</th>
                        <th>Puntuación</th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr th:each="match : ${latestMatches}" th:class="${match.winner} ? success : danger">
                        <td th:class="${match.winner} ? green : red"
                            th:utext="${match.winner} ? #{profile.match.win} : #{profile.match.lose}"></td>
                        <td th:utext="${match.durationMins}"></td>
                        <td th:utext="${match.championName}"></td>
                        <td th:utext="${match.stats}"></td>
                    </tr>

                    </tbody>
                </table>
                <div class="text-center" id="ajax-loader">
                    <img src="/img/ajax-loader.gif" alt="loader">
                </div>
            </div>
        </div>
    </div>
</main>

<div th:replace="fragments/footer :: footer"></div>
<div th:replace="fragments/scripts :: scripts"></div>
<script type="text/javascript" src="js/profile.js"></script>
</body>
</html>